<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2018-03-12
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20180312" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Falcon - Migration Instructions</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

                          
        
<script type="text/javascript">$( document ).ready( function() { $( '.carousel' ).carousel( { interval: 3500 } ) } );</script>
          
            </head>
        <body class="topBarDisabled">
          
                        
                    
    
        <div class="container">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                                                                                                <img src="images/falcon-logo.png"  alt="Apache Falcon" width="200px" height="45px"/>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="index.html" title="Falcon">
        Falcon</a>
        </li>
      <li class="divider ">/</li>
        <li class="">Migration Instructions</li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2018-03-12</li> <li class="divider pull-right">|</li>
              <li id="projectVersion" class="pull-right">Version: 0.11</li>
            
                            </ul>
      </div>

      
                
        <div id="bodyColumn" >
                                  
            <div class="section">
<h2>Migration Instructions<a name="Migration_Instructions"></a></h2></div>
<div class="section">
<h3>Migrate from 0.9 to 0.10<a name="Migrate_from_0.9_to_0.10"></a></h3>
<p>FALCON-1333 (Instance Search feature) requires Falcon to use titan-berkeleyje version 0.5.4 to support indexing. Up until version 0.9 - Falcon used titan-berkeleyje-jre6 version 0.4.2. GraphDB created by version 0.4.2 cannot be read by version 0.5.4. The solution is to migrate the GraphDB to be compatible with Falcon 0.10 release. Please make sure that no falcon server is running while performing the migration.</p></div>
<div class="section">
<h4>1. Install Falcon 0.10<a name="a1._Install_Falcon_0.10"></a></h4>
<p>Install Falcon 0.10 by following the <a href="./InstallationSteps.html">Installation Steps</a>. Do not start the falcon server yet. The tool to migrate graphDB is packaged with 0.10 Falcon server in falcon-common-0.10.jar.</p></div>
<div class="section">
<h4>2. Export GraphDB to JSON file using Falcon 0.9<a name="a2._Export_GraphDB_to_JSON_file_using_Falcon_0.9"></a></h4>
<p>Please run the following command to generate the JSON file.</p>
<div class="source">
<pre>
 $FALCON_HOME/bin/graphdbutil.sh export &lt;&lt;java_home&gt; &lt;&lt;hadoop_home&gt;&gt; &lt;&lt;falcon_0.9_home&gt;&gt; &lt;&lt;path_to_falcon-common-0.10.jar&gt;&gt; /jsonFile/dir/

</pre></div>
<p>This command will create /jsonFile/dir/instanceMetadata.json</p></div>
<div class="section">
<h4>3. Import GraphDB from JSON file using Falcon 0.10<a name="a3._Import_GraphDB_from_JSON_file_using_Falcon_0.10"></a></h4>
<p>Please run the following command to import graphDB the JSON file. The location of graphDB will be based on property &quot;*.falcon.graph.storage.directory&quot; set in startup.properties file.</p>
<div class="source">
<pre>
  $FALCON_HOME/bin/graphdbutil.sh export &lt;&lt;java_home&gt; &lt;&lt;hadoop_home&gt;&gt; &lt;&lt;falcon_0.10_home&gt;&gt; &lt;&lt;path_to_falcon-common-0.10.jar&gt;&gt; /jsonFile/dir/

</pre></div>
<p>This command will import from /jsonFile/dir/instanceMetadata.json, now start the Falcon 0.10 server.</p></div>
                  </div>
          </div>

    <hr/>

    <footer>
            <div class="container">
              <div class="row span12">Copyright &copy;                    2013-2018
                        <a href="http://www.apache.org">Apache Software Foundation</a>.
            All Rights Reserved.      
                    
      </div>

                          
                <p id="poweredBy" class="pull-right">
                          <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
              </p>
        
                </div>
    </footer>
  </body>
</html>
